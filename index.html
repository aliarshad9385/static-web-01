<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For Annusha — ASCII Love</title>
  <meta name="description" content="A small website of ASCII love for Annusha — heart art, flights, notes, and tender bits." />
  <style>
    :root{
      --bg:#0e0a12;         /* deep plum night */
      --bg2:#1a1322;        /* softer shadow */
      --fg:#efeaf3;         /* pearl */
      --muted:#b6aeca;      /* lavender gray */
      --rose:#ff7abf;       /* rose glow */
      --peach:#ffb36b;      /* peach ember */
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    html,body{height:100%}
    body{
      margin:0; color:var(--fg); background:
        radial-gradient(900px 360px at 20% 15%, rgba(255,122,191,.08), transparent 45%),
        radial-gradient(1000px 420px at 85% 80%, rgba(255,179,107,.07), transparent 50%),
        linear-gradient(180deg,var(--bg),var(--bg2));
      font-family:var(--mono);
      display:grid; grid-template-rows:auto 1fr auto; gap:8px;
    }

    /* Screen-reader utilities */
    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,1px,1px); white-space:nowrap; border:0}
    .skip{position:absolute; left:-9999px; top:0; background:#000; color:#fff; padding:8px 10px; z-index:1000}
    .skip:focus{left:10px; top:10px; border-radius:6px}

    /* Header */
    header{display:flex; align-items:center; justify-content:space-between; padding:14px 16px;}
    .brand{font-size:14px; letter-spacing:.4px; color:var(--muted)}
    .brand b{color:var(--fg)}
    .hint{font-size:12px; color:var(--muted); opacity:.9}

    /* Hero */
    .hero{position:relative; display:grid; place-items:center; padding:6vh 12px;}
    .title{position:absolute; top:10px; left:16px; font-size:18px; letter-spacing:.3px; opacity:.9}
    .subtitle{position:absolute; top:36px; left:16px; font-size:12px; color:var(--muted)}

    pre#heart{
      margin:0; white-space:pre; text-align:center; line-height:1.05;
      font-size: clamp(10px, 2.4vw, 22px);
      padding: 16px 8px; max-width: 96vw; overflow:auto;
      color: transparent;
      background: linear-gradient(90deg, #ffffff, #ffd1dc, #ff89b3, #ffe6f2, #ffffff);
      -webkit-background-clip:text; background-clip:text;
      text-shadow: 0 0 10px rgba(255,122,191,.25);
      filter: drop-shadow(0 1px 0 rgba(0,0,0,.5));
    }
    .scan{position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend-mode:screen;
      background: repeating-linear-gradient(180deg, rgba(255,255,255,.8) 0 1px, transparent 2px 3px);
    }

    /* Nav cards */
    .grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; padding:0 12px 16px; max-width:1000px; margin:0 auto;}
    a.card{display:block; position:relative; color:var(--fg); text-decoration:none; padding:14px 12px; border-radius:10px;
      background: rgba(255,255,255,.02);
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      transition: transform .25s ease, background .3s ease, border-color .3s ease;
    }
    a.card:hover{ transform: translateY(-2px); background: rgba(255,255,255,.04); border-color: rgba(255,255,255,.18); }
    a:focus-visible{ outline:2px solid #fff; outline-offset:2px }
    .card pre{ margin:0; white-space:pre; color:var(--muted); font-size:12px; line-height:1.1; }
    .card .name{ position:absolute; right:10px; bottom:10px; font-size:12px; color:var(--muted); }

    /* Footer */
    footer{display:flex; justify-content:space-between; align-items:center; padding:10px 16px; color:var(--muted); font-size:12px}
    .love{color:var(--rose)}

    /* Float hearts */
    .floaters{position:absolute; inset:0; pointer-events:none; overflow:hidden}
    .floater{position:absolute; color:var(--rose); opacity:.38; filter: drop-shadow(0 0 6px rgba(233,30,99,.4)); animation: drift 12s linear infinite}
    @keyframes drift{0%{transform:translateY(0) translateX(0) rotate(0)}50%{transform:translateY(-40px) translateX(8px) rotate(6deg)}100%{transform:translateY(0) translateX(0) rotate(0)}}

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ animation-duration:0.001ms !important; animation-iteration-count:1 !important; transition-duration:0.001ms !important; scroll-behavior:auto !important }
      .floater{ animation:none !important }
    }
  </style>
  <script>
    // Generate a heart with the classic curve: (x^2 + y^2 - 1)^3 - x^2 y^3 <= 0
    function heartArt(rows=32, cols=84){
      const chars = " .,:;!+*#%@$"; // light → dark ramp
      let out = [];
      for(let i=0;i<rows;i++){
        let y = 1.35 - (i/(rows-1))*2.7;
        let line = "";
        for(let j=0;j<cols;j++){
          let x = -1.8 + (j/(cols-1))*3.6;
          let v = Math.pow(x*x + y*y - 1,3) - x*x*y*y*y;
          if(v <= 0){
            const d = Math.min(1, Math.abs(v)*3.5);
            const k = Math.max(0, Math.min(chars.length-1, Math.floor((1-d)*(chars.length-1))));
            line += chars[k];
          } else line += " ";
        }
        out.push(line.replace(/\s+$/,''));
      }
      return out.join('\n');
    }
    function frame(text){
      const lines = text.split('\n');
      const w = Math.max(...lines.map(l=>l.length));
      const pad = s => s + ' '.repeat(w - s.length);
      const top = '╔' + '═'.repeat(w+2) + '╗';
      const bot = '╚' + '═'.repeat(w+2) + '╝';
      const body = lines.map(l=>'║ '+pad(l)+' ║').join('\n');
      const tag = center('— For ANNUSHA —', w+2);
      const note = center('Every moment with you glows a little brighter.', w+2);
      return [top, body, '║ '+tag+' ║', '║ '+note+' ║', bot].join('\n');
    }
    function center(s, W){
      const L=s.length; if(L>=W) return s.slice(0,W);
      const left=Math.floor((W-L)/2), right=W-L-left; return ' '.repeat(left)+s+' '.repeat(right);
    }
    function spawnFloaters(n=14){
      const box = document.getElementById('floaters');
      box.innerHTML = '';
      for(let i=0;i<n;i++){
        const el = document.createElement('div');
        el.className = 'floater';
        el.textContent = '♥';
        el.style.left = (Math.random()*96)+'%';
        el.style.top = (Math.random()*86)+'%';
        el.style.animationDelay = (-Math.random()*10).toFixed(2)+'s';
        el.style.fontSize = (10 + Math.random()*18)+'px';
        box.appendChild(el);
      }
    }
    window.addEventListener('DOMContentLoaded', ()=>{
      const pre = document.getElementById('heart');
      pre.textContent = frame(heartArt(30, 76));
      spawnFloaters();
    });
  </script>
  <script>
    // Register root service worker for offline
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', ()=> navigator.serviceWorker.register('./site-sw.js').catch(()=>{}));
    }
    // Love Index overlay (global navigation)
    (function(){
      const style = document.createElement('style');
      style.textContent = `
      .lovebtn{position:fixed; right:14px; bottom:14px; width:42px; height:42px; border-radius:50%;
        display:grid; place-items:center; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.16);
        color:var(--muted); cursor:pointer; z-index:9999; }
      .lovebtn:focus-visible{ outline:2px solid #fff; outline-offset:2px }
      .loveidx{position:fixed; inset:0; display:none; z-index:10000;}
      .loveidx.show{display:block}
      .loveidx .back{position:absolute; inset:0; background:rgba(0,0,0,.5);}
      .loveidx .panel{position:relative; margin:8vh auto; max-width:680px; background:rgba(20,16,26,.9);
        border:1px solid rgba(255,255,255,.16); border-radius:12px; padding:16px; color:var(--fg);
        backdrop-filter: blur(8px);}
      .loveidx h2{margin:0 0 10px 0; font-size:16px}
      .loveidx a{display:block; color:var(--fg); text-decoration:none; padding:8px 6px; border-radius:6px;}
      .loveidx a:hover, .loveidx a:focus-visible{ background:rgba(255,255,255,.08); outline:none }
      @media (prefers-reduced-motion: reduce){ .loveidx .panel{ transition:none } }
      `;
      document.head.appendChild(style);
      const wrap = document.createElement('div');
      wrap.className = 'loveidx';
      const back = document.createElement('div'); back.className = 'back'; back.tabIndex = -1;
      const panel = document.createElement('div'); panel.className = 'panel'; panel.setAttribute('role','dialog'); panel.setAttribute('aria-modal','true'); panel.setAttribute('aria-labelledby','lidTitle');
      const h = document.createElement('h2'); h.id='lidTitle'; h.textContent = 'Love Index'; panel.appendChild(h);
      const nav = document.createElement('nav'); nav.setAttribute('aria-label','Love Index');
      const home = './';
      const links = [
        ['Home', home],
        ['Notepad Letter', home + 'notepad.html'],
        ['Love Flight', home + 'annusha-love-flight/index.html'],
        ['Flag + Plane', home + 'art/annusha_plane_flag.html'],
        ['Cubist Plane', home + 'art/annusha_cubist_plane.html'],
        ['Notepad Frames', home + 'art/notepad_frames.html'],
      ];
      links.forEach(([name, href])=>{ const a = document.createElement('a'); a.href = href; a.textContent = name; nav.appendChild(a); });
      panel.appendChild(nav);
      wrap.appendChild(back); wrap.appendChild(panel); document.body.appendChild(wrap);
      function open(){ wrap.classList.add('show'); const first = panel.querySelector('a'); first && first.focus(); }
      function close(){ wrap.classList.remove('show'); btn.focus(); }
      back.addEventListener('click', close);
      window.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && wrap.classList.contains('show')) close(); if(e.key==='?' || (e.shiftKey && e.key==='/')) open(); });
      const btn = document.createElement('button'); btn.className='lovebtn'; btn.type='button'; btn.setAttribute('aria-label','Open Love Index'); btn.textContent='❤';
      btn.addEventListener('click', open); document.body.appendChild(btn);
      // Soft page transitions (flow)
      const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const s2 = document.createElement('style'); s2.textContent = `body.fade-init{opacity:0} body.fade-in{opacity:1; transition:opacity .3s ease}`; document.head.appendChild(s2);
      document.body.classList.add('fade-init'); requestAnimationFrame(()=>{ if(!reduce){ document.body.classList.add('fade-in'); }});
      document.addEventListener('click',(e)=>{
        const a = e.target.closest('a[href]'); if(!a) return;
        const url = new URL(a.href, location.href);
        if (url.origin === location.origin) { if(!reduce){ e.preventDefault(); document.body.classList.remove('fade-in'); setTimeout(()=>{ location.href = a.href; }, 180); } }
      }, true);
    })();
  </script>
  </head>
<body>
  <a class="skip" href="#main">Skip to content</a>
  <header>
    <div class="brand"><b>For Annusha</b> · ASCII Love</div>
    <div class="hint">A tiny museum of text and light</div>
  </header>

  <main id="main" role="main">
    <section class="hero">
      <div class="title">A Love In Monospace</div>
      <div class="subtitle">Shaped in characters. Lit by feeling.</div>
      <pre id="heart" role="img" aria-label="A framed ASCII heart dedicated to Annusha"></pre>
      <div class="scan" aria-hidden="true"></div>
      <div class="floaters" id="floaters" aria-hidden="true"></div>
    </section>

    <section class="grid" aria-label="Gallery links">
      <a class="card" href="notepad.html" aria-label="Open the Notepad love letter page">
        <pre>
┌─ Notepad Letter ───────────────────────────────┐
│ A quiet page that types a heart and a note.    │
│ Save it as text; toggle Neon for floaty hearts.│
└────────────────────────────────────────────────┘
        </pre>
        <span class="name">for_annusha.txt</span>
      </a>

      <a class="card" href="annusha-love-flight/index.html" aria-label="Open the Love Flight scene">
        <pre>
┌─ Love Flight ───────────────────────────────────┐
│ ASCII plane, rose trail, and a moonlit sky.     │
│ Subtle blossoms, flag, and a dreamy slideshow.  │
└────────────────────────────────────────────────┘
        </pre>
        <span class="name">soho whisper</span>
      </a>

      <a class="card" href="art/annusha_plane_flag.html" aria-label="Open the Flag and Plane piece">
        <pre>
┌─ Flag + Plane ──────────────────────────────────┐
│ A banner in green and white with a tiny star,   │
│ held by a small plane and a patient breeze.     │
└────────────────────────────────────────────────┘
        </pre>
        <span class="name">plane_flag</span>
      </a>

      <a class="card" href="art/annusha_cubist_plane.html" aria-label="Open the Cubist Plane piece">
        <pre>
┌─ Cubist Plane ──────────────────────────────────┐
│ A geometric study in angles and drift — minimal │
│ and a little playful, like a folded thought.    │
└────────────────────────────────────────────────┘
        </pre>
        <span class="name">cubist_plane</span>
      </a>

      <a class="card" href="art/notepad_frames.html" aria-label="Open the Notepad Frames variations">
        <pre>
┌─ Notepad Frames ────────────────────────────────┐
│ Variations on the letter motif, framed neatly   │
│ for gentle reading and printing.                │
└────────────────────────────────────────────────┘
        </pre>
        <span class="name">frames</span>
      </a>
    </section>
  </main>

  <footer>
    <div>Made with <span class="love">♥</span> and ASCII</div>
    <div class="hint">Tip: Open the Notepad and try Neon Mode</div>
  </footer>
</body>
</html>
